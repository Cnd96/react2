{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chamald\\\\Desktop\\\\Chamal\\\\react\\\\react-app\\\\src\\\\app\\\\views\\\\admin\\\\patient\\\\newPatient\\\\stepper\\\\stepComponents\\\\selectSocialHabit\\\\SelectSocialHabits.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport * as PatientAction from \"../registerPatient/store/actions\";\nimport * as Action from \"./store/actions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport withReducer from \"../../../../../../../store/withReducer\";\nimport reducer from \"./store/reducers\";\nimport SocialHabitsCategory from \"./components/SocialHabitsCategory\";\nimport * as _ from \"lodash\";\nimport { trimData } from \"../../../../../../../../utils/DataExtractHelper\";\nimport NextPrevButtonGroup from \"../../../../../../common/NextPrevButtonGroup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst generateSaveObject = (socialHabits, patientData) => {\n  let removedIDList = _.difference(socialHabits.prevSocialHabitIds, socialHabits.currentIDs);\n\n  let addedIDList = _.difference(socialHabits.currentIDs, socialHabits.prevSocialHabitIds);\n\n  return Object.assign({}, {\n    socialHabitIDList: addedIDList,\n    removedIDList: removedIDList\n  }, {\n    patientID: patientData.patientID ? patientData.patientID : null\n  });\n};\n\nconst SelectSocialHabits = _ref => {\n  _s();\n\n  let {\n    setPageIndex,\n    nextPageIndex,\n    prevPageIndex\n  } = _ref;\n  let dispatch = useDispatch();\n  const socialHabits = useSelector(_ref2 => {\n    let {\n      selectSocialHabits\n    } = _ref2;\n    return selectSocialHabits.socialHabitSelect;\n  });\n  const patientData = useSelector(_ref3 => {\n    let {\n      patient\n    } = _ref3;\n    return patient.patientAddEdit;\n  });\n  useEffect(() => {\n    dispatch(Action.getSocialHabitCategories());\n    dispatch(Action.setPatientSocialHabitIds(patientData.patient.socialHabits));\n    return () => {\n      dispatch(Action.onResetPatientSocialHabits());\n    };\n  }, [dispatch]);\n\n  const saveFunction = () => {\n    let saveObj = generateSaveObject(socialHabits, patientData.patient);\n\n    if (saveObj.removedIDList.length > 0 || saveObj.socialHabitIDList.length > 0) {\n      dispatch(Action.saveOrUpdatePatientWithSocialHabits(trimData(saveObj))).then(response => {\n        dispatch(PatientAction.setPatient(response.payload));\n        setPageIndex(nextPageIndex);\n      });\n    } else {\n      setPageIndex(nextPageIndex);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Social Habits\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NextPrevButtonGroup, {\n      setPageIndex: setPageIndex,\n      prevPageIndex: prevPageIndex,\n      saveFunction: saveFunction,\n      isValid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), socialHabits.socialHabitCategories.map((socialHabitCategory, index) => {\n      return /*#__PURE__*/_jsxDEV(SocialHabitsCategory, {\n        socialHabitCategory: socialHabitCategory\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 28\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(NextPrevButtonGroup, {\n      setPageIndex: setPageIndex,\n      prevPageIndex: prevPageIndex,\n      saveFunction: saveFunction,\n      isValid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SelectSocialHabits, \"4bhai28T12w+no4Av1ByeKuTkdg=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = SelectSocialHabits;\nexport default withReducer('selectSocialHabits', reducer)(SelectSocialHabits);\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectSocialHabits\");","map":{"version":3,"sources":["C:/Users/chamald/Desktop/Chamal/react/react-app/src/app/views/admin/patient/newPatient/stepper/stepComponents/selectSocialHabit/SelectSocialHabits.js"],"names":["React","useEffect","PatientAction","Action","useDispatch","useSelector","withReducer","reducer","SocialHabitsCategory","_","trimData","NextPrevButtonGroup","generateSaveObject","socialHabits","patientData","removedIDList","difference","prevSocialHabitIds","currentIDs","addedIDList","Object","assign","socialHabitIDList","patientID","SelectSocialHabits","setPageIndex","nextPageIndex","prevPageIndex","dispatch","selectSocialHabits","socialHabitSelect","patient","patientAddEdit","getSocialHabitCategories","setPatientSocialHabitIds","onResetPatientSocialHabits","saveFunction","saveObj","length","saveOrUpdatePatientWithSocialHabits","then","response","setPatient","payload","socialHabitCategories","map","socialHabitCategory","index"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport * as PatientAction from \"../registerPatient/store/actions\";\nimport * as Action from \"./store/actions\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport withReducer from \"../../../../../../../store/withReducer\";\nimport reducer from \"./store/reducers\";\nimport SocialHabitsCategory from \"./components/SocialHabitsCategory\";\nimport * as _ from \"lodash\";\nimport {trimData} from \"../../../../../../../../utils/DataExtractHelper\";\nimport NextPrevButtonGroup from \"../../../../../../common/NextPrevButtonGroup\";\n\nconst generateSaveObject = (socialHabits, patientData) => {\n\n    let removedIDList = _.difference(socialHabits.prevSocialHabitIds, socialHabits.currentIDs);\n    let addedIDList = _.difference(socialHabits.currentIDs, socialHabits.prevSocialHabitIds);\n    return Object.assign({}, {\n        socialHabitIDList: addedIDList,\n        removedIDList: removedIDList\n    }, {patientID: patientData.patientID ? patientData.patientID : null});\n};\n\nconst SelectSocialHabits = ({setPageIndex, nextPageIndex, prevPageIndex}) => {\n\n    let dispatch = useDispatch();\n    const socialHabits = useSelector(({selectSocialHabits}) => selectSocialHabits.socialHabitSelect);\n    const patientData = useSelector(({patient}) => patient.patientAddEdit);\n\n    useEffect(() => {\n        dispatch(Action.getSocialHabitCategories());\n        dispatch(Action.setPatientSocialHabitIds(patientData.patient.socialHabits));\n\n        return (() => {\n            dispatch(Action.onResetPatientSocialHabits());\n        })\n    }, [dispatch]);\n\n    const saveFunction = () => {\n        let saveObj = generateSaveObject(socialHabits, patientData.patient);\n        if (saveObj.removedIDList.length > 0 || saveObj.socialHabitIDList.length > 0) {\n            dispatch(Action.saveOrUpdatePatientWithSocialHabits(trimData(saveObj))).then(response => {\n                dispatch(PatientAction.setPatient(response.payload));\n                setPageIndex(nextPageIndex);\n            })\n        } else {\n            setPageIndex(nextPageIndex);\n        }\n    };\n\n    return (\n        <div>\n            <h5>Social Habits</h5>\n            <NextPrevButtonGroup setPageIndex={setPageIndex} prevPageIndex={prevPageIndex} saveFunction={saveFunction}\n                                 isValid={true}/>\n            {\n                socialHabits.socialHabitCategories.map((socialHabitCategory, index) => {\n                    return <SocialHabitsCategory key={index} socialHabitCategory={socialHabitCategory}/>\n                })\n            }\n            <NextPrevButtonGroup setPageIndex={setPageIndex} prevPageIndex={prevPageIndex} saveFunction={saveFunction}\n                                 isValid={true}/>\n        </div>\n    );\n};\n\nexport default withReducer('selectSocialHabits', reducer)(SelectSocialHabits);\n"]},"metadata":{},"sourceType":"module"}