{"ast":null,"code":"import dataService from \"../../../../../../../services/dataService\";\nimport checkupReportsByDateAppEndpoints from \"./checkup.report.generate.endpoints\";\nexport const GET_CSV_FILE_URL = '[CHECKUP GENERATE CSV ] GET_CSV_FILE_URL';\nexport const DOWNLOAD_CSV_FILE = '[CHECKUP GENERATE CSV ] DOWNLOAD_CSV_FILE';\nexport const SET_SEARCH_DATA = '[CHECKUP GENERATE CSV ] SET_SEARCH_DATA';\nexport const ON_RESET_SEARCH_DATA = '[CHECKUP GENERATE CSV ] ON_RESET_SEARCH_DATA';\nexport const SET_INCLUDE_SOCIAL_HABITS = '[CHECKUP GENERATE CSV ] SET_INCLUDE_SOCIAL_HABITS';\nexport const SET_INCLUDE_FAMILY_HISTORY = '[CHECKUP GENERATE CSV ] SET_INCLUDE_FAMILY_HISTORY';\nexport const SET_INCLUDE_DIETARY_HABITS = '[CHECKUP GENERATE CSV ] SET_INCLUDE_DIETARY_HABITS';\nexport const SET_INCLUDE_PHYSICAL_ACTIVITIES = '[CHECKUP GENERATE CSV ] SET_INCLUDE_PHYSICAL_ACTIVITIES';\nexport const SET_INCLUDE_INSTRUCTION = '[CHECKUP GENERATE CSV ] SET_INCLUDE_INSTRUCTION';\nexport function getCheckUpsDetailCSVReport(searchRQ) {\n  const request = dataService.post(checkupReportsByDateAppEndpoints.getCheckUpsDetailCSVReport, searchRQ);\n  return (dispatch, getState) => {\n    return request.then(response => {\n      return dispatch({\n        type: GET_CSV_FILE_URL,\n        payload: response.data.result\n      });\n    });\n  };\n}\nexport function downloadCheckUpsByDateDetailCSVReport(fileName) {\n  let endpoint = Object.assign({}, checkupReportsByDateAppEndpoints.downloadCheckUpsByDateDetailCSVReport);\n  endpoint.url = endpoint.url + '/' + fileName;\n  const request = dataService.get(endpoint);\n  request.then(response => {\n    console.log(response.data.result);\n    let blob = new Blob([response.data.result], {\n      type: 'text/csv'\n    });\n    let url = window.URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = fileName;\n    a.target = '_blank';\n    a.click();\n  });\n  return (dispatch, getState) => {\n    request.then(response => dispatch({\n      type: DOWNLOAD_CSV_FILE,\n      payload: response.data.result\n    }));\n  };\n}\nexport function setSearchData(data) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: SET_SEARCH_DATA,\n      payload: data\n    });\n  };\n}\nexport function setIncludeSocialHabits(data) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: SET_INCLUDE_SOCIAL_HABITS,\n      payload: data\n    });\n  };\n}\nexport function setIncludeFamilyHistory(data) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: SET_INCLUDE_FAMILY_HISTORY,\n      payload: data\n    });\n  };\n}\nexport function setIncludeDietaryHabits(data) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: SET_INCLUDE_DIETARY_HABITS,\n      payload: data\n    });\n  };\n}\nexport function setIncludePhysicalActivities(data) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: SET_INCLUDE_PHYSICAL_ACTIVITIES,\n      payload: data\n    });\n  };\n}\nexport function setIncludeInstruction(data) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: SET_INCLUDE_INSTRUCTION,\n      payload: data\n    });\n  };\n}\nexport function onResetSearchData() {\n  return (dispatch, getState) => {\n    dispatch({\n      type: ON_RESET_SEARCH_DATA\n    });\n  };\n}","map":{"version":3,"sources":["C:/Users/chamald/Desktop/Chamal/react/react-app/src/app/views/admin/reports/checkup/components/store/actions/checkup.report.generate.actions.js"],"names":["dataService","checkupReportsByDateAppEndpoints","GET_CSV_FILE_URL","DOWNLOAD_CSV_FILE","SET_SEARCH_DATA","ON_RESET_SEARCH_DATA","SET_INCLUDE_SOCIAL_HABITS","SET_INCLUDE_FAMILY_HISTORY","SET_INCLUDE_DIETARY_HABITS","SET_INCLUDE_PHYSICAL_ACTIVITIES","SET_INCLUDE_INSTRUCTION","getCheckUpsDetailCSVReport","searchRQ","request","post","dispatch","getState","then","response","type","payload","data","result","downloadCheckUpsByDateDetailCSVReport","fileName","endpoint","Object","assign","url","get","console","log","blob","Blob","window","URL","createObjectURL","a","document","createElement","href","download","target","click","setSearchData","setIncludeSocialHabits","setIncludeFamilyHistory","setIncludeDietaryHabits","setIncludePhysicalActivities","setIncludeInstruction","onResetSearchData"],"mappings":"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","sourcesContent":["import dataService from \"../../../../../../../services/dataService\";\nimport checkupReportsByDateAppEndpoints from \"./checkup.report.generate.endpoints\";\n\nexport const GET_CSV_FILE_URL = '[CHECKUP GENERATE CSV ] GET_CSV_FILE_URL';\nexport const DOWNLOAD_CSV_FILE = '[CHECKUP GENERATE CSV ] DOWNLOAD_CSV_FILE';\nexport const SET_SEARCH_DATA = '[CHECKUP GENERATE CSV ] SET_SEARCH_DATA';\nexport const ON_RESET_SEARCH_DATA = '[CHECKUP GENERATE CSV ] ON_RESET_SEARCH_DATA';\nexport const SET_INCLUDE_SOCIAL_HABITS = '[CHECKUP GENERATE CSV ] SET_INCLUDE_SOCIAL_HABITS';\nexport const SET_INCLUDE_FAMILY_HISTORY = '[CHECKUP GENERATE CSV ] SET_INCLUDE_FAMILY_HISTORY';\nexport const SET_INCLUDE_DIETARY_HABITS = '[CHECKUP GENERATE CSV ] SET_INCLUDE_DIETARY_HABITS';\nexport const SET_INCLUDE_PHYSICAL_ACTIVITIES = '[CHECKUP GENERATE CSV ] SET_INCLUDE_PHYSICAL_ACTIVITIES';\nexport const SET_INCLUDE_INSTRUCTION = '[CHECKUP GENERATE CSV ] SET_INCLUDE_INSTRUCTION';\n\n\nexport function getCheckUpsDetailCSVReport(searchRQ) {\n    const request = dataService.post(checkupReportsByDateAppEndpoints.getCheckUpsDetailCSVReport, searchRQ);\n\n    return (dispatch, getState) => {\n        return request.then((response) => {\n                return dispatch({\n                    type: GET_CSV_FILE_URL,\n                    payload: response.data.result\n                });\n            }\n        );\n    };\n}\n\nexport function downloadCheckUpsByDateDetailCSVReport(fileName) {\n\n    let endpoint = Object.assign({}, checkupReportsByDateAppEndpoints.downloadCheckUpsByDateDetailCSVReport);\n    endpoint.url = endpoint.url + '/' + fileName;\n\n    const request = dataService.get(endpoint);\n\n    request.then((response) => {\n            console.log(response.data.result);\n            let blob = new Blob([response.data.result], {type: 'text/csv'});\n            let url = window.URL.createObjectURL(blob);\n            const a = document.createElement(\"a\");\n            a.href = url;\n            a.download = fileName;\n            a.target = '_blank';\n            a.click();\n        }\n    );\n\n    return (dispatch, getState) => {\n        request.then((response) =>\n            dispatch({\n                type: DOWNLOAD_CSV_FILE,\n                payload: response.data.result\n            })\n        );\n    };\n}\n\n\nexport function setSearchData(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: SET_SEARCH_DATA,\n            payload: data\n        });\n    };\n}\n\nexport function setIncludeSocialHabits(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: SET_INCLUDE_SOCIAL_HABITS,\n            payload: data\n        });\n    };\n}\n\nexport function setIncludeFamilyHistory(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: SET_INCLUDE_FAMILY_HISTORY,\n            payload: data\n        });\n    };\n}\n\nexport function setIncludeDietaryHabits(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: SET_INCLUDE_DIETARY_HABITS,\n            payload: data\n        });\n    };\n}\n\nexport function setIncludePhysicalActivities(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: SET_INCLUDE_PHYSICAL_ACTIVITIES,\n            payload: data\n        });\n    };\n}\n\nexport function setIncludeInstruction(data) {\n    return (dispatch, getState) => {\n        dispatch({\n            type: SET_INCLUDE_INSTRUCTION,\n            payload: data\n        });\n    };\n}\n\nexport function onResetSearchData() {\n\n    return (dispatch, getState) => {\n        dispatch({\n            type: ON_RESET_SEARCH_DATA,\n        })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}