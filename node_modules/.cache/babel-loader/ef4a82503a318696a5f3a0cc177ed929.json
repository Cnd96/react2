{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chamald\\\\Desktop\\\\Chamal\\\\react\\\\react-app\\\\src\\\\app\\\\views\\\\admin\\\\patient\\\\newPatient\\\\stepper\\\\stepComponents\\\\createInstructionNote\\\\webCam\\\\components\\\\ImageCapture.js\";\nimport React, { Component } from 'react';\nimport { CButton, CCol, CRow, CTooltip } from \"@coreui/react\";\nimport WebCamImageAddEdit from \"./WebCamImageAddEdit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ImageCapture extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.takePhoto = () => {\n      const {\n        sendFile\n      } = this.props;\n      const context = this.canvas.getContext('2d');\n      context.drawImage(this.videoPlayer, 0, 0, 680, 360); // this.canvas.toBlob(sendFile);\n    };\n\n    this.upload = () => {\n      const {\n        sendFile\n      } = this.props; // const context = this.canvas.getContext('2d');\n      // context.drawImage(this.videoPlayer, 0, 0, 680, 360);\n\n      this.canvas.toBlob(sendFile);\n    };\n  }\n\n  processDevices(devices) {\n    devices.forEach(device => {\n      console.log(device.label);\n      this.setDevice(device);\n    });\n  }\n\n  async setDevice(device) {\n    const {\n      deviceId\n    } = device;\n\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: false,\n        video: {\n          deviceId\n        }\n      });\n      this.videoPlayer.srcObject = stream;\n      this.videoPlayer.play();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async componentDidMount() {\n    const cameras = await navigator.mediaDevices.enumerateDevices();\n    this.processDevices(cameras);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(CRow, {\n      children: [/*#__PURE__*/_jsxDEV(CCol, {\n        sm: \"6\",\n        children: [/*#__PURE__*/_jsxDEV(CRow, {\n          children: /*#__PURE__*/_jsxDEV(CCol, {\n            className: \"align-content-lg-center\",\n            children: /*#__PURE__*/_jsxDEV(\"video\", {\n              ref: ref => this.videoPlayer = ref,\n              width: \"680\",\n              heigh: \"360\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CRow, {\n          children: /*#__PURE__*/_jsxDEV(CCol, {\n            sm: \"12\",\n            children: /*#__PURE__*/_jsxDEV(CTooltip, {\n              content: 'Take Image',\n              placement: 'left-start',\n              children: /*#__PURE__*/_jsxDEV(CButton, {\n                onClick: () => {\n                  this.takePhoto();\n                },\n                color: \"success\",\n                children: \"Take Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CCol, {\n        sm: \"6\",\n        children: [/*#__PURE__*/_jsxDEV(CRow, {\n          children: /*#__PURE__*/_jsxDEV(CCol, {\n            className: \"text-align-center privilege-main-category-section pt-10p\",\n            children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n              width: \"680\",\n              height: \"360\",\n              ref: ref => this.canvas = ref\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CRow, {\n          children: /*#__PURE__*/_jsxDEV(CCol, {\n            children: [/*#__PURE__*/_jsxDEV(WebCamImageAddEdit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-row flex-wrap  justify-content-end\",\n              children: /*#__PURE__*/_jsxDEV(CTooltip, {\n                content: 'Take Image',\n                placement: 'left-start',\n                children: /*#__PURE__*/_jsxDEV(CButton, {\n                  onClick: () => {\n                    this.upload();\n                  },\n                  color: \"success\",\n                  children: \"Upload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ImageCapture;","map":{"version":3,"sources":["C:/Users/chamald/Desktop/Chamal/react/react-app/src/app/views/admin/patient/newPatient/stepper/stepComponents/createInstructionNote/webCam/components/ImageCapture.js"],"names":["React","Component","CButton","CCol","CRow","CTooltip","WebCamImageAddEdit","ImageCapture","takePhoto","sendFile","props","context","canvas","getContext","drawImage","videoPlayer","upload","toBlob","processDevices","devices","forEach","device","console","log","label","setDevice","deviceId","stream","navigator","mediaDevices","getUserMedia","audio","video","srcObject","play","e","componentDidMount","cameras","enumerateDevices","render","ref"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {CButton, CCol, CRow, CTooltip} from \"@coreui/react\";\nimport WebCamImageAddEdit from \"./WebCamImageAddEdit\";\n\nclass ImageCapture extends Component {\n\n    processDevices(devices) {\n        devices.forEach(device => {\n            console.log(device.label);\n            this.setDevice(device);\n        });\n    }\n\n    async setDevice(device) {\n        const {deviceId} = device;\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia({audio: false, video: {deviceId}});\n            this.videoPlayer.srcObject = stream;\n            this.videoPlayer.play();\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    async componentDidMount() {\n        const cameras = await navigator.mediaDevices.enumerateDevices();\n        this.processDevices(cameras);\n    }\n\n    takePhoto = () => {\n        const {sendFile} = this.props;\n        const context = this.canvas.getContext('2d');\n        context.drawImage(this.videoPlayer, 0, 0, 680, 360);\n\n        // this.canvas.toBlob(sendFile);\n    };\n\n    upload = () => {\n        const {sendFile} = this.props;\n        // const context = this.canvas.getContext('2d');\n        // context.drawImage(this.videoPlayer, 0, 0, 680, 360);\n\n        this.canvas.toBlob(sendFile);\n    };\n\n    render() {\n        return (\n            <CRow>\n                <CCol sm=\"6\">\n                    <CRow>\n                        <CCol className=\"align-content-lg-center\">\n                            <video ref={ref => (this.videoPlayer = ref)} width=\"680\" heigh=\"360\"/>\n                        </CCol>\n                    </CRow>\n                    <CRow>\n                        <CCol sm=\"12\">\n                            <CTooltip\n                                content={'Take Image'}\n                                placement={'left-start'}\n                            >\n                                <CButton\n                                    onClick={() => {\n                                        this.takePhoto();\n                                    }}\n                                    color=\"success\"\n                                >\n                                    Take Image\n                                </CButton>\n                            </CTooltip>\n                        </CCol>\n                    </CRow>\n                </CCol>\n                <CCol sm=\"6\">\n                    <CRow>\n                        <CCol className=\"text-align-center privilege-main-category-section pt-10p\">\n                            <canvas width=\"680\" height=\"360\" ref={ref => (this.canvas = ref)}/>\n                        </CCol>\n\n                    </CRow>\n                    <CRow>\n                        <CCol>\n                            <WebCamImageAddEdit/>\n                            <div className='d-flex flex-row flex-wrap  justify-content-end'>\n                                <CTooltip\n                                    content={'Take Image'}\n                                    placement={'left-start'}\n                                >\n                                    <CButton\n                                        onClick={() => {\n                                            this.upload();\n                                        }}\n                                        color=\"success\"\n                                    >\n                                        Upload\n                                    </CButton>\n                                </CTooltip>\n                            </div>\n                        </CCol>\n                    </CRow>\n                </CCol>\n            </CRow>\n        );\n    }\n\n\n}\n\nexport default ImageCapture;"]},"metadata":{},"sourceType":"module"}