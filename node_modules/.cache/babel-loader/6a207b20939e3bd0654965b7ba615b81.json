{"ast":null,"code":"import { GET_SOCIAL_HABIT_CATEGORIES, ON_PATIENT_SELECT_SOCIAL_HABITS, ON_RESET_PATIENT_SOCIAL_HABITS, ON_SET_PATIENT_SOCIAL_HABITS_IDS } from \"../actions\";\nimport * as _ from \"lodash\";\nconst initialState = {\n  socialHabitCategories: [],\n  socialHabitsIDs: {},\n  allSocialHabitsIds: [],\n  currentIDs: [],\n  prevSocialHabitIds: []\n};\n\nconst socialHabitSelectReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_SOCIAL_HABIT_CATEGORIES:\n      {\n        let allSocialHabitsIds = [];\n        action.payload.forEach(element => {\n          element.socialHabits.forEach(x => {\n            allSocialHabitsIds.push(x.socialHabitID);\n          });\n        });\n        return { ...state,\n          socialHabitCategories: action.payload,\n          allSocialHabitsIds: allSocialHabitsIds\n        };\n      }\n\n    case ON_PATIENT_SELECT_SOCIAL_HABITS:\n      {\n        let obj = _.cloneDeep(state.socialHabitsIDs);\n\n        if (action.payload.socialHabitCategoryID) {\n          obj = Object.assign(obj, {\n            [action.payload.socialHabitCategoryID]: action.payload.socialHabitID\n          });\n        }\n\n        return { ...state,\n          socialHabitsIDs: obj,\n          currentIDs: Object.values(obj)\n        };\n      }\n\n    case ON_SET_PATIENT_SOCIAL_HABITS_IDS:\n      {\n        let obj = Object.values(action.payload);\n        return { ...state,\n          prevSocialHabitIds: obj,\n          currentIDs: obj,\n          socialHabitsIDs: action.payload\n        };\n      }\n\n    case ON_RESET_PATIENT_SOCIAL_HABITS:\n      {\n        return { ...state,\n          currentIDs: [],\n          prevSocialHabitIds: [],\n          socialHabitsIDs: {}\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default socialHabitSelectReducer;","map":{"version":3,"sources":["C:/Users/chamald/Desktop/Chamal/react/react-app/src/app/views/admin/patient/newPatient/stepper/stepComponents/selectSocialHabit/store/reducers/social.habit.add.edit.reducer.js"],"names":["GET_SOCIAL_HABIT_CATEGORIES","ON_PATIENT_SELECT_SOCIAL_HABITS","ON_RESET_PATIENT_SOCIAL_HABITS","ON_SET_PATIENT_SOCIAL_HABITS_IDS","_","initialState","socialHabitCategories","socialHabitsIDs","allSocialHabitsIds","currentIDs","prevSocialHabitIds","socialHabitSelectReducer","state","action","type","payload","forEach","element","socialHabits","x","push","socialHabitID","obj","cloneDeep","socialHabitCategoryID","Object","assign","values"],"mappings":"AAAA,SACIA,2BADJ,EAEIC,+BAFJ,EAGIC,8BAHJ,EAIIC,gCAJJ,QAKO,YALP;AAMA,OAAO,KAAKC,CAAZ,MAAmB,QAAnB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,qBAAqB,EAAE,EADN;AAEjBC,EAAAA,eAAe,EAAE,EAFA;AAGjBC,EAAAA,kBAAkB,EAAE,EAHH;AAIjBC,EAAAA,UAAU,EAAE,EAJK;AAKjBC,EAAAA,kBAAkB,EAAE;AALH,CAArB;;AAQA,MAAMC,wBAAwB,GAAG,YAAwC;AAAA,MAA9BC,KAA8B,uEAAtBP,YAAsB;AAAA,MAARQ,MAAQ;;AAErE,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKd,2BAAL;AAAmC;AAE/B,YAAIQ,kBAAkB,GAAG,EAAzB;AACAK,QAAAA,MAAM,CAACE,OAAP,CAAeC,OAAf,CAAuBC,OAAO,IAAI;AAC9BA,UAAAA,OAAO,CAACC,YAAR,CAAqBF,OAArB,CACIG,CAAC,IAAI;AACDX,YAAAA,kBAAkB,CAACY,IAAnB,CAAwBD,CAAC,CAACE,aAA1B;AACH,WAHL;AAKH,SAND;AAOA,eAAO,EACH,GAAGT,KADA;AAEHN,UAAAA,qBAAqB,EAAEO,MAAM,CAACE,OAF3B;AAGHP,UAAAA,kBAAkB,EAAEA;AAHjB,SAAP;AAKH;;AAED,SAAKP,+BAAL;AAAuC;AACnC,YAAIqB,GAAG,GAAGlB,CAAC,CAACmB,SAAF,CAAYX,KAAK,CAACL,eAAlB,CAAV;;AACA,YAAIM,MAAM,CAACE,OAAP,CAAeS,qBAAnB,EAA0C;AACtCF,UAAAA,GAAG,GAAGG,MAAM,CAACC,MAAP,CAAcJ,GAAd,EAAmB;AAAC,aAACT,MAAM,CAACE,OAAP,CAAeS,qBAAhB,GAAwCX,MAAM,CAACE,OAAP,CAAeM;AAAxD,WAAnB,CAAN;AACH;;AACD,eAAO,EACH,GAAGT,KADA;AAEHL,UAAAA,eAAe,EAAEe,GAFd;AAGHb,UAAAA,UAAU,EAAEgB,MAAM,CAACE,MAAP,CAAcL,GAAd;AAHT,SAAP;AAKH;;AAED,SAAKnB,gCAAL;AAAwC;AACpC,YAAImB,GAAG,GAAGG,MAAM,CAACE,MAAP,CAAcd,MAAM,CAACE,OAArB,CAAV;AACA,eAAO,EACH,GAAGH,KADA;AAEHF,UAAAA,kBAAkB,EAAEY,GAFjB;AAGHb,UAAAA,UAAU,EAAEa,GAHT;AAIHf,UAAAA,eAAe,EAAEM,MAAM,CAACE;AAJrB,SAAP;AAMH;;AAED,SAAKb,8BAAL;AAAsC;AAClC,eAAO,EACH,GAAGU,KADA;AAEHH,UAAAA,UAAU,EAAE,EAFT;AAGHC,UAAAA,kBAAkB,EAAE,EAHjB;AAIHH,UAAAA,eAAe,EAAE;AAJd,SAAP;AAMH;;AAED;AACI,aAAOK,KAAP;AAlDR;AAoDH,CAtDD;;AAwDA,eAAeD,wBAAf","sourcesContent":["import {\n    GET_SOCIAL_HABIT_CATEGORIES,\n    ON_PATIENT_SELECT_SOCIAL_HABITS,\n    ON_RESET_PATIENT_SOCIAL_HABITS,\n    ON_SET_PATIENT_SOCIAL_HABITS_IDS\n} from \"../actions\";\nimport * as _ from \"lodash\";\n\nconst initialState = {\n    socialHabitCategories: [],\n    socialHabitsIDs: {},\n    allSocialHabitsIds: [],\n    currentIDs: [],\n    prevSocialHabitIds: []\n};\n\nconst socialHabitSelectReducer = function (state = initialState, action) {\n\n    switch (action.type) {\n        case GET_SOCIAL_HABIT_CATEGORIES : {\n\n            let allSocialHabitsIds = [];\n            action.payload.forEach(element => {\n                element.socialHabits.forEach(\n                    x => {\n                        allSocialHabitsIds.push(x.socialHabitID)\n                    }\n                )\n            });\n            return {\n                ...state,\n                socialHabitCategories: action.payload,\n                allSocialHabitsIds: allSocialHabitsIds\n            }\n        }\n\n        case ON_PATIENT_SELECT_SOCIAL_HABITS : {\n            let obj = _.cloneDeep(state.socialHabitsIDs);\n            if (action.payload.socialHabitCategoryID) {\n                obj = Object.assign(obj, {[action.payload.socialHabitCategoryID]: action.payload.socialHabitID});\n            }\n            return {\n                ...state,\n                socialHabitsIDs: obj,\n                currentIDs: Object.values(obj)\n            }\n        }\n\n        case ON_SET_PATIENT_SOCIAL_HABITS_IDS : {\n            let obj = Object.values(action.payload);\n            return {\n                ...state,\n                prevSocialHabitIds: obj,\n                currentIDs: obj,\n                socialHabitsIDs: action.payload,\n            }\n        }\n\n        case ON_RESET_PATIENT_SOCIAL_HABITS : {\n            return {\n                ...state,\n                currentIDs: [],\n                prevSocialHabitIds: [],\n                socialHabitsIDs: {},\n            }\n        }\n\n        default :\n            return state;\n    }\n};\n\nexport default socialHabitSelectReducer;\n\n"]},"metadata":{},"sourceType":"module"}