{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chamald\\\\Desktop\\\\Chamal\\\\react\\\\react-app\\\\src\\\\app\\\\views\\\\admin\\\\patient\\\\newPatient\\\\stepper\\\\stepComponents\\\\selectDietaryHabits\\\\SelectDietaryHabit.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport NextPrevButtonGroup from \"../../../../../../common/NextPrevButtonGroup\";\nimport withReducer from \"../../../../../../../store/withReducer\";\nimport reducer from \"./store/reducer/index\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as Actions from './store/action';\nimport DietaryCategory from \"./components/DietaryCategory\";\nimport * as _ from \"lodash\";\nimport { trimData } from \"../../../../../../../../utils/DataExtractHelper\";\nimport * as CheckupAction from \"../createCheckUp/store/action/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst generateSaveObject = (dietaryHabits, checkup) => {\n  let removedIDList = _.difference(dietaryHabits.prevDietaryHabitIds, dietaryHabits.currentIDs);\n\n  let addedIDList = _.difference(dietaryHabits.currentIDs, dietaryHabits.prevDietaryHabitIds);\n\n  return Object.assign({}, {\n    addedIDList: addedIDList,\n    removedIDList: removedIDList\n  }, {\n    checkupID: checkup.checkupID ? checkup.checkupID : null\n  });\n};\n\nconst SelectDietaryHabit = _ref => {\n  _s();\n\n  let {\n    setPageIndex,\n    nextPageIndex,\n    prevPageIndex\n  } = _ref;\n  let dispatch = useDispatch();\n  const dietaryHabits = useSelector(_ref2 => {\n    let {\n      selectDietaryHabit\n    } = _ref2;\n    return selectDietaryHabit.selectDietaryHabit;\n  });\n  const checkupData = useSelector(_ref3 => {\n    let {\n      checkup\n    } = _ref3;\n    return checkup.checkupAddEdit;\n  });\n  useEffect(() => {\n    dispatch(Actions.getDietaryCategories());\n  }, []);\n  useEffect(() => {\n    dispatch(Actions.setCheckupDietaryHabitIds(checkupData.checkup.dietaryHabits));\n  }, [dispatch, checkupData]);\n\n  const saveFunction = () => {\n    let saveObj = generateSaveObject(dietaryHabits, checkupData.checkup);\n\n    if (saveObj.removedIDList.length > 0 || saveObj.addedIDList.length > 0) {\n      dispatch(Actions.saveOrUpdateCheckupWithDietaryHabits(trimData(saveObj))).then(response => {\n        dispatch(CheckupAction.onSetCheckup(response.payload));\n        setPageIndex(nextPageIndex);\n      });\n    } else {\n      setPageIndex(nextPageIndex);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Dietary Habits\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NextPrevButtonGroup, {\n      setPageIndex: setPageIndex,\n      prevPageIndex: prevPageIndex,\n      saveFunction: saveFunction,\n      isValid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), dietaryHabits.dietaryCategories && dietaryHabits.dietaryCategories.map((dietaryCategory, index) => {\n      return /*#__PURE__*/_jsxDEV(DietaryCategory, {\n        dietaryCategory: dietaryCategory\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 28\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(NextPrevButtonGroup, {\n      setPageIndex: setPageIndex,\n      prevPageIndex: prevPageIndex,\n      saveFunction: saveFunction,\n      isValid: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SelectDietaryHabit, \"lYdqIzxDQNwP3pXhhKSxxHYY/nk=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = SelectDietaryHabit;\nexport default withReducer('selectDietaryHabit', reducer)(SelectDietaryHabit);\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectDietaryHabit\");","map":{"version":3,"sources":["C:/Users/chamald/Desktop/Chamal/react/react-app/src/app/views/admin/patient/newPatient/stepper/stepComponents/selectDietaryHabits/SelectDietaryHabit.js"],"names":["React","useEffect","NextPrevButtonGroup","withReducer","reducer","useDispatch","useSelector","Actions","DietaryCategory","_","trimData","CheckupAction","generateSaveObject","dietaryHabits","checkup","removedIDList","difference","prevDietaryHabitIds","currentIDs","addedIDList","Object","assign","checkupID","SelectDietaryHabit","setPageIndex","nextPageIndex","prevPageIndex","dispatch","selectDietaryHabit","checkupData","checkupAddEdit","getDietaryCategories","setCheckupDietaryHabitIds","saveFunction","saveObj","length","saveOrUpdateCheckupWithDietaryHabits","then","response","onSetCheckup","payload","dietaryCategories","map","dietaryCategory","index"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,mBAAP,MAAgC,8CAAhC;AACA,OAAOC,WAAP,MAAwB,wCAAxB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,OAAO,KAAKC,OAAZ,MAAyB,gBAAzB;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAO,KAAKC,CAAZ,MAAmB,QAAnB;AACA,SAAQC,QAAR,QAAuB,iDAAvB;AACA,OAAO,KAAKC,aAAZ,MAA+B,qCAA/B;;;AAEA,MAAMC,kBAAkB,GAAG,CAACC,aAAD,EAAgBC,OAAhB,KAA4B;AAEnD,MAAIC,aAAa,GAAGN,CAAC,CAACO,UAAF,CAAaH,aAAa,CAACI,mBAA3B,EAAgDJ,aAAa,CAACK,UAA9D,CAApB;;AACA,MAAIC,WAAW,GAAGV,CAAC,CAACO,UAAF,CAAaH,aAAa,CAACK,UAA3B,EAAuCL,aAAa,CAACI,mBAArD,CAAlB;;AACA,SAAOG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB;AACrBF,IAAAA,WAAW,EAAEA,WADQ;AAErBJ,IAAAA,aAAa,EAAEA;AAFM,GAAlB,EAGJ;AAACO,IAAAA,SAAS,EAAER,OAAO,CAACQ,SAAR,GAAoBR,OAAO,CAACQ,SAA5B,GAAwC;AAApD,GAHI,CAAP;AAIH,CARD;;AAUA,MAAMC,kBAAkB,GAAG,QAAkD;AAAA;;AAAA,MAAjD;AAACC,IAAAA,YAAD;AAAeC,IAAAA,aAAf;AAA8BC,IAAAA;AAA9B,GAAiD;AAEzE,MAAIC,QAAQ,GAAGtB,WAAW,EAA1B;AACA,QAAMQ,aAAa,GAAGP,WAAW,CAAC;AAAA,QAAC;AAACsB,MAAAA;AAAD,KAAD;AAAA,WAA0BA,kBAAkB,CAACA,kBAA7C;AAAA,GAAD,CAAjC;AACA,QAAMC,WAAW,GAAGvB,WAAW,CAAC;AAAA,QAAC;AAACQ,MAAAA;AAAD,KAAD;AAAA,WAAeA,OAAO,CAACgB,cAAvB;AAAA,GAAD,CAA/B;AAEA7B,EAAAA,SAAS,CAAC,MAAM;AACZ0B,IAAAA,QAAQ,CAACpB,OAAO,CAACwB,oBAAR,EAAD,CAAR;AACH,GAFQ,EAEN,EAFM,CAAT;AAIA9B,EAAAA,SAAS,CAAC,MAAM;AACZ0B,IAAAA,QAAQ,CAACpB,OAAO,CAACyB,yBAAR,CAAkCH,WAAW,CAACf,OAAZ,CAAoBD,aAAtD,CAAD,CAAR;AACH,GAFQ,EAEN,CAACc,QAAD,EAAWE,WAAX,CAFM,CAAT;;AAIA,QAAMI,YAAY,GAAG,MAAM;AACvB,QAAIC,OAAO,GAAGtB,kBAAkB,CAACC,aAAD,EAAgBgB,WAAW,CAACf,OAA5B,CAAhC;;AACA,QAAIoB,OAAO,CAACnB,aAAR,CAAsBoB,MAAtB,GAA+B,CAA/B,IAAoCD,OAAO,CAACf,WAAR,CAAoBgB,MAApB,GAA6B,CAArE,EAAwE;AACpER,MAAAA,QAAQ,CAACpB,OAAO,CAAC6B,oCAAR,CAA6C1B,QAAQ,CAACwB,OAAD,CAArD,CAAD,CAAR,CAA0EG,IAA1E,CAA+EC,QAAQ,IAAI;AACvFX,QAAAA,QAAQ,CAAChB,aAAa,CAAC4B,YAAd,CAA2BD,QAAQ,CAACE,OAApC,CAAD,CAAR;AACAhB,QAAAA,YAAY,CAACC,aAAD,CAAZ;AACH,OAHD;AAIH,KALD,MAKO;AACHD,MAAAA,YAAY,CAACC,aAAD,CAAZ;AACH;AACJ,GAVD;;AAYA,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAGI,QAAC,mBAAD;AACI,MAAA,YAAY,EAAED,YADlB;AAEI,MAAA,aAAa,EAAEE,aAFnB;AAGI,MAAA,YAAY,EAAEO,YAHlB;AAII,MAAA,OAAO,EAAE;AAJb;AAAA;AAAA;AAAA;AAAA,YAHJ,EAWQpB,aAAa,CAAC4B,iBAAd,IACA5B,aAAa,CAAC4B,iBAAd,CAAgCC,GAAhC,CAAoC,CAACC,eAAD,EAAkBC,KAAlB,KAA4B;AAC5D,0BAAO,QAAC,eAAD;AAA6B,QAAA,eAAe,EAAED;AAA9C,SAAsBC,KAAtB;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KAFD,CAZR,eAiBI,QAAC,mBAAD;AACI,MAAA,YAAY,EAAEpB,YADlB;AAEI,MAAA,aAAa,EAAEE,aAFnB;AAGI,MAAA,YAAY,EAAEO,YAHlB;AAII,MAAA,OAAO,EAAE;AAJb;AAAA;AAAA;AAAA;AAAA,YAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA0BH,CApDD;;GAAMV,kB;UAEalB,W,EACOC,W,EACFA,W;;;KAJlBiB,kB;AAsDN,eAAepB,WAAW,CAAC,oBAAD,EAAuBC,OAAvB,CAAX,CAA2CmB,kBAA3C,CAAf","sourcesContent":["import React, {useEffect} from 'react';\nimport NextPrevButtonGroup from \"../../../../../../common/NextPrevButtonGroup\";\nimport withReducer from \"../../../../../../../store/withReducer\";\nimport reducer from \"./store/reducer/index\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport * as Actions from './store/action'\nimport DietaryCategory from \"./components/DietaryCategory\";\nimport * as _ from \"lodash\";\nimport {trimData} from \"../../../../../../../../utils/DataExtractHelper\";\nimport * as CheckupAction from \"../createCheckUp/store/action/index\";\n\nconst generateSaveObject = (dietaryHabits, checkup) => {\n\n    let removedIDList = _.difference(dietaryHabits.prevDietaryHabitIds, dietaryHabits.currentIDs);\n    let addedIDList = _.difference(dietaryHabits.currentIDs, dietaryHabits.prevDietaryHabitIds);\n    return Object.assign({}, {\n        addedIDList: addedIDList,\n        removedIDList: removedIDList\n    }, {checkupID: checkup.checkupID ? checkup.checkupID : null});\n};\n\nconst SelectDietaryHabit = ({setPageIndex, nextPageIndex, prevPageIndex}) => {\n\n    let dispatch = useDispatch();\n    const dietaryHabits = useSelector(({selectDietaryHabit}) => selectDietaryHabit.selectDietaryHabit);\n    const checkupData = useSelector(({checkup}) => checkup.checkupAddEdit);\n\n    useEffect(() => {\n        dispatch(Actions.getDietaryCategories());\n    }, []);\n\n    useEffect(() => {\n        dispatch(Actions.setCheckupDietaryHabitIds(checkupData.checkup.dietaryHabits));\n    }, [dispatch, checkupData]);\n\n    const saveFunction = () => {\n        let saveObj = generateSaveObject(dietaryHabits, checkupData.checkup);\n        if (saveObj.removedIDList.length > 0 || saveObj.addedIDList.length > 0) {\n            dispatch(Actions.saveOrUpdateCheckupWithDietaryHabits(trimData(saveObj))).then(response => {\n                dispatch(CheckupAction.onSetCheckup(response.payload));\n                setPageIndex(nextPageIndex);\n            })\n        } else {\n            setPageIndex(nextPageIndex);\n        }\n    };\n\n    return (\n        <div>\n            <h5>Dietary Habits</h5>\n\n            <NextPrevButtonGroup\n                setPageIndex={setPageIndex}\n                prevPageIndex={prevPageIndex}\n                saveFunction={saveFunction}\n                isValid={true}\n            />\n\n            {\n                dietaryHabits.dietaryCategories &&\n                dietaryHabits.dietaryCategories.map((dietaryCategory, index) => {\n                    return <DietaryCategory key={index} dietaryCategory={dietaryCategory}/>\n                })\n            }\n\n            <NextPrevButtonGroup\n                setPageIndex={setPageIndex}\n                prevPageIndex={prevPageIndex}\n                saveFunction={saveFunction}\n                isValid={true}\n            />\n        </div>\n    );\n};\n\nexport default withReducer('selectDietaryHabit', reducer)(SelectDietaryHabit);"]},"metadata":{},"sourceType":"module"}