"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("mitt")),n=e(require("react")),i=require("emotion"),r=e(require("@contentful/forma-36-tokens"));function o(e){return e}function a(e){return e}var s=function(e,t){return{fields:t,sys:{id:"entry-"+Math.round(1e3*Math.random()),type:"Entry",space:{sys:{id:"space",type:"Link",linkType:"Space"}},environment:{sys:{id:"e123",type:"Link",linkType:"Environment"}},version:2,publishedVersion:2,publishedCounter:1,createdAt:"2020-02-15T17:41:01.000Z",updatedAt:"2020-02-17T20:20:01.000Z",publishedAt:"2020-02-18T17:41:01.000Z",firstPublishedAt:"2020-02-18T17:41:01.000Z",createdBy:{sys:{id:"u123",type:"Link",linkType:"User"}},updatedBy:{sys:{id:"u123",type:"Link",linkType:"User"}},publishedBy:{sys:{id:"u123",type:"Link",linkType:"User"}},contentType:{sys:{id:e,type:"Link",linkType:"ContentType"}}},metadata:{tags:[]}}};function l(e){return e}var d=[{name:"Example Content Type",sys:{id:"exampleCT",type:"ContentType"},fields:[{id:"exField",disabled:!1,localized:!1,name:"Example Field",omitted:!1,required:!0,type:"Symbol",validations:[]},{id:"exDesc",disabled:!1,localized:!1,name:"Description Field",omitted:!1,required:!1,type:"Text",validations:[]}],displayField:"exField",description:""},{name:"Another Content Type",sys:{id:"anotherCT",type:"ContentType"},fields:[],displayField:"",description:""}];function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t){return"add"===t.type?u({},e,{events:[{id:e.events.length+1,type:t.payload.type,value:t.payload.value}].concat(e.events)}):e}function p(e){var t=n.useReducer(c,{events:[]}),o=t[0],a=t[1],s=function(e,t){a({type:"add",payload:{type:e,value:t}})};return n.useEffect((function(){return e.mitt.on("*",s),window.Cypress&&(window.editorEvents=[],window.setValueExternal=function(t){e.mitt.emit("onValueChanged",t)}),function(){e.mitt.off("*",s),window.editorEvents=void 0,window.setValueExternal=void 0}}),[e.mitt]),n.useEffect((function(){window.editorEvents=[].concat(o.events)}),[e,o.events]),n.createElement("div",{className:i.css({border:"1px solid "+r.colorElementLight,padding:r.spacingS,marginTop:r.spacingXl})},n.createElement("div",{className:i.css({height:150,overflowY:"scroll",fontSize:r.fontSizeM})},o.events.map((function(t){return n.createElement("div",{key:t.id},n.createElement("div",null,n.createElement("code",null,t.id,". ",t.type)),n.createElement("div",null,t.value?e.renderValue(t.value,t.type):n.createElement("pre",null,"undefined")))}))))}p.defaultProps={renderValue:function(e){return n.createElement("pre",null,JSON.stringify(e,null,2))}},exports.ActionsPlayground=p,exports.createFakeFieldAPI=function(e,n){void 0===e&&(e=o);var i=t(),r=n;return[e({id:"fake-id",locale:"en-US",type:"Symbol",validations:[],required:!1,onValueChanged:function(){var e;return i.on("onValueChanged",e="string"==typeof(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=0?void 0:arguments[0]),function(){i.off("onValueChanged",e)}},onIsDisabledChanged:function(e){return i.on("onIsDisabledChanged",e),function(){i.off("onIsDisabledChanged",e)}},onSchemaErrorsChanged:function(e){return i.on("onSchemaErrorsChanged",e),function(){i.off("onSchemaErrorsChanged",e)}},getValue:function(){return i.emit("getValue"),r},setInvalid:function(){i.emit("setInvalid")},setValue:function(e){return i.emit("setValue",r=e),i.emit("onValueChanged",r),Promise.resolve()},removeValue:function(){return r=void 0,i.emit("removeValue"),i.emit("onValueChanged",void 0),Promise.resolve()}}),i]},exports.createFakeLocalesAPI=function(e){return void 0===e&&(e=a),e({default:"en-US",available:["en-US"],fallbacks:{"en-US":void 0},names:{"en-US":"English"},optional:{"en-US":!1},direction:{"en-US":"ltr"}})},exports.createFakeNavigatorAPI=function(){return{openEntry:function(e){window.alert("Open entry "+e)},openAsset:function(e){window.alert("Open asset "+e)}}},exports.createFakeSpaceAPI=function(e){return void 0===e&&(e=l),e({getCachedContentTypes:function(){return d},getContentTypes:function(){return Promise.resolve({items:d,total:d.length,skip:0,limit:100,sys:{type:"Array"}})},getEntries:function(e){var t=[s("exampleCT",{exField:{"en-US":"Hello world"}}),s("exampleCT",{})];return Promise.resolve({items:e&&"exampleCT"!==e.content_type?[]:t,total:t.length,skip:0,limit:100,sys:{type:"Array"}})},getAssets:function(){return Promise.resolve({items:[],total:0,skip:0,limit:100,sys:{type:"Array"}})},createEntry:function(e){return Promise.resolve(s(e,{}))},createAsset:function(){return Promise.resolve({})}})};
//# sourceMappingURL=field-editor-test-utils.cjs.production.min.js.map
