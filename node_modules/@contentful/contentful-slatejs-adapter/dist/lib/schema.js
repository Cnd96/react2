"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var lodash_get_1 = require("lodash.get");
var Contentful = require("@contentful/rich-text-types");
var defaultSchema = {};
/**
 * Creates an instance of Schema from json.
 *
 * @export
 * @param {SchemaJSON} [schema=defaultSchema]
 * @returns {Schema}
 */
function fromJSON(schema) {
    if (schema === void 0) { schema = defaultSchema; }
    return {
        /**
         * Check if a `node` is void based on the schema rules.
         *
         * @param {ContentfulNonTextNodes} node
         * @returns
         */
        isVoid: function (node) {
            var root = Object.values(Contentful.BLOCKS).includes(node.nodeType) ? 'blocks' : 'inlines';
            return lodash_get_1.default(schema, [root, node.nodeType, 'isVoid'], false);
        },
    };
}
exports.fromJSON = fromJSON;
//# sourceMappingURL=schema.js.map